<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K PLUS Simple Deep Link</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üè¶ K PLUS Deep Link</h1>
        <p style="text-align: center; color: #666;">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢</p>
        
        <button class="btn" onclick="testOpenKPlus()">
            üöÄ ‡πÄ‡∏õ‡∏¥‡∏î K PLUS
        </button>

        <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #eee;">
            <h4 style="color: #2c3e50;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:</h4>
            <ul style="color: #666; font-size: 14px;">
                <li>‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ K PLUS ‡∏ú‡πà‡∏≤‡∏ô deep link</li>
                <li>‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î App Store ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
                <li>iOS: App Store (id361170631)</li>
                <li>Android: Play Store (com.kasikorn.retail.mbanking.wap)</li>
            </ul>
        </div>
    </div>

    <script src="kplus-deeplink.js"></script>
    <script>
        var originalButtonText = 'üöÄ ‡πÄ‡∏õ‡∏¥‡∏î K PLUS';
        var isProcessing = false;
        
        // ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡∏¥‡∏î K PLUS ‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥ - Compatible with older browsers
        function testOpenKPlus() {
            if (isProcessing) {
                return; // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≥
            }
            
            var token = 'token_sample_xxx'; // Hard coded token
            var button = document.querySelector('.btn');
            
            try {
                openKPlus(token, 3000, {
                    onStart: function() {
                        isProcessing = true;
                        button.disabled = true;
                        button.textContent = 'üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ...';
                        if (console && console.log) {
                            console.log('‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î K PLUS ‡πÅ‡∏•‡πâ‡∏ß');
                        }
                    },
                    
                    onTimer: function(timeRemaining) {
                        if (timeRemaining > 0) {
                            button.textContent = '‚è∞ ‡∏£‡∏≠ ' + timeRemaining + ' ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ...';
                        }
                    },
                    
                    onSuccess: function() {
                        button.textContent = '‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
                        if (console && console.log) {
                            console.log('‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ K PLUS ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
                        }
                        
                        // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                        setTimeout(function() {
                            resetButton();
                        }, 2000);
                    },
                    
                    onFallback: function() {
                        button.textContent = 'üì± ‡πÄ‡∏õ‡∏¥‡∏î App Store';
                        if (console && console.log) {
                            console.log('‡πÄ‡∏õ‡∏¥‡∏î App Store ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÅ‡∏≠‡∏õ K PLUS');
                        }
                        
                        // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                        setTimeout(function() {
                            resetButton();
                        }, 3000);
                    }
                });
                
            } catch (error) {
                resetButton();
                if (console && console.error) {
                    console.error('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:', error.message);
                }
            }
        }
        
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏î‡∏¥‡∏°
        function resetButton() {
            var button = document.querySelector('.btn');
            button.textContent = originalButtonText;
            button.disabled = false;
            isProcessing = false;
        }

        // Log ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô - Safe console logging
        if (console && console.log) {
            console.log('üè¶ K PLUS Deep Link Handler - Ready to use with timer callbacks');
        }
    </script>
</body>
</html>
